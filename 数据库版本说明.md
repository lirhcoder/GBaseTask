# 数据库版本说明

## 两个版本的区别

### SQLite 版本（推荐用于快速开始）
- **文件**: `src/index-sqlite.js`
- **数据库**: SQLite（本地文件 `database.sqlite`）
- **优点**: 
  - 无需安装数据库软件
  - 开箱即用
  - 适合本地开发和测试
- **启动命令**: `npm start`

### MongoDB 版本（完整功能）
- **文件**: `src/index.js`
- **数据库**: MongoDB
- **优点**:
  - 适合生产环境
  - 支持更复杂的查询
  - 更好的性能和扩展性
- **启动命令**: `npm run start:mongodb`
- **前提**: 需要先安装并启动 MongoDB

## 如何选择

### 使用智能启动助手（推荐）
```bash
node start-helper.js
# 或双击 启动助手.bat
```
启动助手会自动检测 MongoDB 是否运行，并推荐合适的版本。

### 手动选择

#### 如果您没有安装 MongoDB：
```bash
npm start
```

#### 如果您已安装 MongoDB：
1. 先启动 MongoDB 服务
2. 运行：
```bash
npm run start:mongodb
```

## 常见问题

### Q: 出现 "MongooseError: Operation `tasks.find()` buffering timed out"
**A**: 这表示您启动了 MongoDB 版本，但 MongoDB 服务未运行。解决方案：
- 使用 SQLite 版本：`npm start`
- 或启动 MongoDB 服务后再运行

### Q: 如何从一个版本迁移到另一个版本？
**A**: 目前需要手动导出和导入数据。后续版本将提供数据迁移工具。

### Q: 两个版本的功能有区别吗？
**A**: 功能完全相同，只是底层数据库不同。

## 端口配置

两个版本都支持自定义端口：
```bash
# SQLite 版本，使用端口 3000
npm start -- --port 3000

# MongoDB 版本，使用端口 3000
npm run start:mongodb -- --port 3000
```