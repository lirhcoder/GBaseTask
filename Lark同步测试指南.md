# Lark 同步测试指南

## 快速开始

### 方法一：使用批处理文件
```bash
双击 test-lark-sync.bat
```

### 方法二：手动启动
1. 启动后端服务：
   ```bash
   npm start
   ```
2. 打开测试页面：
   - 双击 `test-lark-sync.html`

## 测试页面功能

### 1. 认证登录
- 首次使用需要注册账号
- 使用注册的账号登录后才能使用同步功能

### 2. 数据同步功能
- **从 Lark 同步 Bug 数据** - 只同步 Bug 表格数据
- **从 Lark 同步需求数据** - 只同步需求表格数据
- **同步所有数据** - 一次性同步 Bug 和需求数据

### 3. 数据展示
- **Bug 一览** - 显示所有从 Lark 同步的 Bug
- **需求一览** - 显示所有从 Lark 同步的需求
- 每条数据显示：标题、状态、优先级、负责人、Lark ID

### 4. 操作日志
- 实时显示所有操作的执行结果
- 不同颜色表示不同类型的消息（成功/错误/信息）

## Lark 配置信息

当前配置的 Lark 表格：
- Bug 表格 ID: `tbl7w5FyrSAa6yW3`
- 需求表格 ID: `tblWSC6MKpoy782J`

## 使用流程

1. **启动服务**
   - 确保后端服务在 `http://localhost:3001` 运行

2. **注册/登录**
   - 输入用户名和密码注册新账号
   - 使用已注册的账号登录

3. **同步数据**
   - 点击"同步所有数据"按钮
   - 等待同步完成（查看操作日志）

4. **查看结果**
   - Bug 一览面板显示所有 Bug
   - 需求一览面板显示所有需求
   - 可以看到每条数据的详细信息

## 注意事项

1. 确保 Lark 应用配置正确（App ID 和 App Secret）
2. 确保有权限访问配置的 Lark 表格
3. 同步可能需要一些时间，请耐心等待
4. 如果同步失败，查看操作日志中的错误信息

## 常见问题

### Q: 同步失败怎么办？
A: 检查操作日志中的错误信息，常见原因：
- Lark 认证失败 - 检查 App ID 和 Secret
- 表格 ID 错误 - 确认表格 ID 是否正确
- 网络问题 - 检查网络连接

### Q: 数据没有显示？
A: 
- 确保已登录
- 确保同步操作成功完成
- 刷新页面重新加载

### Q: 如何查看更详细的信息？
A: 点击"查看同步状态"和"查看同步历史"按钮获取更多信息