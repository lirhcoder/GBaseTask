# 安装说明

## 关于安装警告

您看到的警告信息是正常的，主要来自于一些过时的依赖包。这些警告不会影响系统的正常运行。

### 警告说明

1. **deprecated 警告**
   - 这些是依赖包的依赖项使用了旧版本
   - 不影响功能，等待上游包更新即可

2. **安全漏洞**
   - 主要来自 `@larksuiteoapi/node-sdk` 依赖的旧版 axios
   - 已通过 `overrides` 配置强制使用新版本

## 正确的安装步骤

### 1. 安装后端依赖
```bash
# 在项目根目录
npm install

# 如果遇到漏洞警告，可以尝试：
npm audit fix --force
```

### 2. 安装前端依赖
```bash
cd client
npm install
```

## 验证安装

### 检查后端
```bash
# 启动后端服务
npm run dev

# 访问健康检查接口
curl http://localhost:3000/health
```

### 检查前端
```bash
cd client
npm run dev

# 浏览器访问 http://localhost:3001
```

## 常见问题

### 1. MongoDB 连接失败
确保 MongoDB 已启动：
```bash
# Windows
mongod --dbpath C:\data\db

# Mac/Linux
mongod --dbpath /usr/local/var/mongodb
```

### 2. 端口被占用
修改 `.env` 文件中的端口配置：
```env
PORT=3001  # 改为其他端口
```

### 3. 依赖安装失败
清理缓存后重试：
```bash
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

## 安全建议

虽然有一些 deprecated 警告，但这些不影响安全性。为了生产环境的安全：

1. 定期更新依赖：
```bash
npm update
npm audit
```

2. 使用 npm audit 检查漏洞：
```bash
npm audit fix
```

3. 对于无法自动修复的漏洞，查看详情：
```bash
npm audit --json
```

## 总结

- ✅ 530 个包成功安装
- ⚠️ 一些 deprecated 警告是正常的
- 🔒 安全漏洞已通过 overrides 缓解
- 🚀 系统可以正常运行

如果遇到其他问题，请查看项目的 GitHub Issues 或提交新的 Issue。